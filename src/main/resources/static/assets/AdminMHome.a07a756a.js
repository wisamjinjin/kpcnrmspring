import{Q as _,a as B}from"./QLayout.5a1e97d2.js";import{t as I,r as w,o as A,a as s,c as N,b as n,w as t,d as r,Q as p,e as v,f as d,u,g as b,a$ as Q,R as C,h as V,F as U,i as q,j as R,k as T}from"./index.c44c2320.js";import{Q as H,a as D,b as x,c as F,u as O}from"./QDrawer.e6db0112.js";import{s as E,a as P,A as j}from"./sessionFunctions.3c5066a4.js";import{Q as $}from"./format.4f6c3584.js";import{Q as c}from"./QItem.35fdbb09.js";import{Q as z}from"./QList.72d1a296.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import{n as G}from"./navigate.3bf18681.js";import"./QResizeObserver.352c0735.js";import"./touch.9135741d.js";import"./selection.54367025.js";import"./urls.d05eee06.js";const J={__name:"NavBarAdminM",props:{isLoggedIn:{type:Boolean,default:!1},hasSelectedMatch:{type:Boolean,default:!1}},emits:["link-action"],setup(L,{emit:y}){const f=L,g=y,{isLoggedIn:i}=I(f);I(f);const m=w(!1),o=l=>{m.value=!1,g("link-action",l)},k=()=>{m.value=!m.value};return A(()=>{}),(l,e)=>(s(),N(U,null,[n(x,{elevated:""},{default:t(()=>[n(H,null,{default:t(()=>[l.$q.screen.lt.md?(s(),r(p,{key:0,flat:"",round:"",dense:"",icon:"menu",onClick:k})):v("",!0),n(D,null,{default:t(()=>e[11]||(e[11]=[d("\uC785\uCC30 \uC2DC\uC2A4\uD15C \uB300\uD68C \uB4F1\uB85D")])),_:1}),l.$q.screen.gt.md?(s(),r(p,{key:1,flat:"",round:"",dense:"",label:"\uACBD\uAE30\uC7A5 \uC120\uD0DD",onClick:e[0]||(e[0]=a=>o("selectVenue")),disable:!u(i)},null,8,["disable"])):v("",!0),e[12]||(e[12]=d("\xA0\xA0\xA0\xA0\xA0\xA0 ")),l.$q.screen.gt.md?(s(),r(p,{key:2,flat:"",round:"",dense:"",label:"\uB300\uD68C\uAD00\uB9AC",onClick:e[1]||(e[1]=a=>o("manageMatch")),disable:!u(i)},null,8,["disable"])):v("",!0),e[13]||(e[13]=d("\xA0\xA0\xA0\xA0\xA0\xA0 ")),l.$q.screen.gt.md?(s(),r(p,{key:3,flat:"",round:"",dense:"",label:"\uC0AC\uC6A9\uC790\uC815\uBCF4\uC218\uC815",onClick:e[2]||(e[2]=a=>o("updateUser")),disable:!u(i)},null,8,["disable"])):v("",!0),e[14]||(e[14]=d("\xA0\xA0\xA0\xA0\xA0\xA0 ")),l.$q.screen.gt.md?(s(),r(p,{key:4,flat:"",round:"",dense:"",icon:"home",onClick:e[3]||(e[3]=a=>o("login"))})):v("",!0),e[15]||(e[15]=d("\xA0\xA0\xA0\xA0\xA0\xA0 ")),l.$q.screen.gt.md?(s(),r(p,{key:5,flat:"",round:"",dense:"",label:"\uB85C\uADF8\uC544\uC6C3",icon:"logout",onClick:e[4]||(e[4]=a=>o("logout")),disable:!u(i)},null,8,["disable"])):v("",!0)]),_:1})]),_:1}),n(F,{modelValue:m.value,"onUpdate:modelValue":e[10]||(e[10]=a=>m.value=a),side:"left",bordered:""},{default:t(()=>[n(z,null,{default:t(()=>[b((s(),r(c,{clickable:"",onClick:e[5]||(e[5]=a=>o("selectVenue")),class:Q({disabled:!u(i)})},{default:t(()=>[n($,null,{default:t(()=>e[16]||(e[16]=[d("\uACBD\uAE30\uC7A5\uC120\uD0DD")])),_:1})]),_:1},8,["class"])),[[C]]),b((s(),r(c,{clickable:"",onClick:e[6]||(e[6]=a=>o("manageMatch")),class:Q({disabled:!u(i)})},{default:t(()=>[n($,null,{default:t(()=>e[17]||(e[17]=[d("\uB300\uD68C\uAD00\uB9AC")])),_:1})]),_:1},8,["class"])),[[C]]),b((s(),r(c,{clickable:"",onClick:e[7]||(e[7]=a=>o("updateUser")),class:Q({disabled:!u(i)})},{default:t(()=>[n($,null,{default:t(()=>e[18]||(e[18]=[d("\uC0AC\uC6A9\uC790\uC815\uBCF4\uC218\uC815")])),_:1})]),_:1},8,["class"])),[[C]]),b((s(),r(c,{clickable:"",onClick:e[8]||(e[8]=a=>o("login"))},{default:t(()=>[n($,null,{default:t(()=>e[19]||(e[19]=[d("\uB85C\uADF8\uC778")])),_:1})]),_:1})),[[C]]),b((s(),r(c,{clickable:"",onClick:e[9]||(e[9]=a=>o("logout")),class:Q({disabled:!u(i)})},{default:t(()=>[n(V,{name:"logout"}),e[20]||(e[20]=d("\uB85C\uADF8\uC544\uC6C3 "))]),_:1},8,["class"])),[[C]])]),_:1})]),_:1},8,["modelValue"])],64))}};var K=S(J,[["__scopeId","data-v-03d1e7ba"]]);const M="adminm",W="admin",X={__name:"AdminMHome",setup(L){O();const y=q(),f=w(!1),g=w(!1),i=l=>{f.value=l.isLoggedIn,g.value=l.hasSelectedMatch},m=()=>{f.value=!1,g.value=!1},o=async()=>{if(!!window.confirm("\uB85C\uADF8\uC544\uC6C3\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C"))try{await P.post(j.USER_LOGOUT,{},{withCredentials:!0}),m()}catch{alert("\uC2DC\uC2A4\uD15C \uC624\uB958\uC785\uB2C8\uB2E4.")}finally{k("login")}},k=async l=>{l==="logout"?await o():G(y,M,l)};return R(()=>{E(M,{tableName:W,userContext:M})}),A(()=>{k("login")}),(l,e)=>{const a=T("router-view");return s(),r(_,{view:"hHh lpR fFf"},{default:t(()=>[n(K,{isLoggedIn:f.value,hasSelectedMatch:g.value,onLinkAction:k},null,8,["isLoggedIn","hasSelectedMatch"]),n(B,null,{default:t(()=>[n(a,{onUpdateStatus:i})]),_:1})]),_:1})}}};var ue=S(X,[["__scopeId","data-v-752c253e"]]);export{ue as default};
