import{Q as N,a as V}from"./QLayout.5a1e97d2.js";import{t as L,r as w,o as S,a as s,c as q,b as a,w as l,d as r,Q as g,e as b,f as u,u as m,g as c,R as C,h as U,F as M,i as R,j as T,k as A}from"./index.c44c2320.js";import{Q as H,a as x,b as D,c as F,u as O}from"./QDrawer.e6db0112.js";import{s as E,a as P,A as j}from"./sessionFunctions.3c5066a4.js";import{Q as I}from"./format.4f6c3584.js";import{Q}from"./QItem.35fdbb09.js";import{Q as G}from"./QList.72d1a296.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{n as y}from"./navigate.3bf18681.js";import"./QResizeObserver.352c0735.js";import"./touch.9135741d.js";import"./selection.54367025.js";import"./urls.d05eee06.js";const z={__name:"NavBarUser",props:{isLoggedIn:{type:Boolean,required:!0},hasSelectedMatch:{type:Boolean,required:!0}},emits:["link-action"],setup($,{emit:p}){const f=$,v=p,{isLoggedIn:i}=L(f);L(f);const d=w(!1),n=t=>{d.value=!1,v("link-action",t)},_=()=>{d.value=!d.value};return S(()=>{}),(t,e)=>(s(),q(M,null,[a(D,{elevated:""},{default:l(()=>[a(H,null,{default:l(()=>[t.$q.screen.lt.md?(s(),r(g,{key:0,flat:"",round:"",dense:"",icon:"menu",onClick:_})):b("",!0),a(x,null,{default:l(()=>e[9]||(e[9]=[u("\uC785\uCC30 \uB4F1\uB85D \uBC0F \uACB0\uC81C \uC2DC\uC2A4\uD15C")])),_:1}),t.$q.screen.gt.md?(s(),r(g,{key:1,flat:"",round:"",dense:"",label:"\uACBD\uAE30\uC7A5 \uC120\uD0DD",onClick:e[0]||(e[0]=o=>n("selectVenue")),disable:!m(i)},null,8,["disable"])):b("",!0),e[10]||(e[10]=u(" \xA0\xA0\xA0\xA0 ")),t.$q.screen.gt.md?(s(),r(g,{key:2,flat:"",round:"",dense:"",label:"\uC0AC\uC6A9\uC790\uC815\uBCF4\uC218\uC815",onClick:e[1]||(e[1]=o=>n("updateUser")),disable:!m(i)},null,8,["disable"])):b("",!0),e[11]||(e[11]=u(" \xA0\xA0\xA0\xA0 ")),t.$q.screen.gt.md?(s(),r(g,{key:3,flat:"",round:"",dense:"",icon:"home",onClick:e[2]||(e[2]=o=>n("login"))})):b("",!0),e[12]||(e[12]=u(" \xA0\xA0\xA0\xA0 ")),t.$q.screen.gt.md?(s(),r(g,{key:4,flat:"",round:"",dense:"",label:"\uB85C\uADF8\uC544\uC6C3",icon:"logout",onClick:e[3]||(e[3]=o=>n("logout")),disable:!m(i)},null,8,["disable"])):b("",!0)]),_:1})]),_:1}),a(F,{modelValue:d.value,"onUpdate:modelValue":e[8]||(e[8]=o=>d.value=o),side:"left",bordered:""},{default:l(()=>[a(G,null,{default:l(()=>[c((s(),r(Q,{clickable:"",onClick:e[4]||(e[4]=o=>n("selectVenue")),disable:!m(i)},{default:l(()=>[a(I,null,{default:l(()=>e[13]||(e[13]=[u("\uACBD\uAE30\uC7A5\uC120\uD0DD")])),_:1})]),_:1},8,["disable"])),[[C]]),c((s(),r(Q,{clickable:"",onClick:e[5]||(e[5]=o=>n("updateUser")),disable:!m(i)},{default:l(()=>[a(I,null,{default:l(()=>e[14]||(e[14]=[u("\uC0AC\uC6A9\uC790 \uC815\uBCF4 \uC218\uC815")])),_:1})]),_:1},8,["disable"])),[[C]]),c((s(),r(Q,{clickable:"",onClick:e[6]||(e[6]=o=>n("login")),disable:m(i)},{default:l(()=>[a(U,{name:"home"}),e[15]||(e[15]=u("\uD648 "))]),_:1},8,["disable"])),[[C]]),c((s(),r(Q,{clickable:"",onClick:e[7]||(e[7]=o=>n("logout")),disable:!m(i)},{default:l(()=>[a(U,{name:"logout"}),e[16]||(e[16]=u("\uB85C\uADF8\uC544\uC6C3 "))]),_:1},8,["disable"])),[[C]])]),_:1})]),_:1},8,["modelValue"])],64))}};var J=B(z,[["__scopeId","data-v-c09419ac"]]);const k="user",K="user",W={__name:"UserHome",setup($){O();const p=R(),f=w(!1),v=w(!1),i=t=>{f.value=t.isLoggedIn,v.value=t.hasSelectedMatch},d=()=>{f.value=!1,v.value=!1},n=async()=>{if(!!window.confirm("\uB85C\uADF8\uC544\uC6C3\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C"))try{await P.post(j.USER_LOGOUT,{},{withCredentials:!0}),d()}catch{alert("\uC2DC\uC2A4\uD15C \uC624\uB958\uC785\uB2C8\uB2E4.")}finally{y(p,k,"login")}},_=async t=>{t==="logout"?await n():y(p,k,t)};return T(()=>{E(k,{tableName:K,userContext:k})}),S(()=>{y(p,k,"login")}),(t,e)=>{const o=A("router-view");return s(),r(N,{view:"hHh lpR fFf"},{default:l(()=>[a(J,{isLoggedIn:f.value,hasSelectedMatch:v.value,onLinkAction:_},null,8,["isLoggedIn","hasSelectedMatch"]),a(V,null,{default:l(()=>[a(o,{onUpdateStatus:i})]),_:1})]),_:1})}}};var ue=B(W,[["__scopeId","data-v-30444204"]]);export{ue as default};
